<!DOCTYPE html>
<html lang="en">

<head>
    
    <%- include("head"); %>
    
    <link rel="stylesheet" href="css/card_fix.css">

    <title>Major Select</title>
</head>

<body>
    <%- include("back") %>
    <div class="container-fluid">
        <div class="row">
            <% categories.forEach(category => 
            { 
                // This will need to be dynamically updated as there's no way to always have the
                // majors that contain more than just these characters
                let categoryAsClass = category["categoryTitle"].replace(bad_chars, "");
                %>
                <div class="width-25 collapser p-1" type="button" data-bs-toggle="collapse" data-bs-target=".<%= categoryAsClass %>"
                    aria-expanded="false" aria-controls=".<%= categoryAsClass %>">
                    <div class="oit-card" style="background-image: url('<%= 'images/frog1.jpg' %>')">
                        <div class="oit-card-text">
                            <p> <%= category["categoryTitle"] %> </p>
                        </div>
                    </div>
                </div>

                <% category["relatedDegrees"].forEach((degreeRef) => 
                { 
                    let degree = degreeRef.path.split("/")[1];
                    %>
                    <div class="width-25 p-1 <%= categoryAsClass %> collapse in-group">
                        <a href="/major?page=<%- degree %>">
                            <div class="oit-card" style="background-image: url('<%= 'images/frog2.jpg' %>')">
                                <div class="oit-card-text">
                                    <p><%= degree %></p>
                                </div>
                            </div>
                        </a>
                    </div>
                <% });
            }); %>
        </div>
    </div>

    <%- include("nav", {current: '"major_select"'}) %>
    <script src="js/card_fix.js"></script>
</body>

</html>